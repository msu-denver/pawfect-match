@startuml sequence_add_pet
title US#4 - Add New Pet Sequence Diagram

actor "Shelter Admin" as admin
participant "Browser" as browser
participant "Routes\n(routes.py)" as routes
participant "Pet Model\n(models.py)" as model
participant "Database" as db

admin -> browser: Click "Add New Pet"
browser -> routes: GET /add-pet
routes --> browser: Render add_pet.html form

admin -> browser: Fill pet details\n(name, species, breed, age, etc.)
admin -> browser: Submit form

browser -> routes: POST /add-pet\n(pet data)
routes -> routes: Validate form data

alt Valid Data
    routes -> model: Create Pet object\nwith status="available"
    model -> model: set_attributes()
    routes -> db: Save Pet to database
    db --> routes: Success confirmation
    routes --> browser: Redirect to dashboard\nwith success message
    browser --> admin: Show dashboard\nwith new pet listed
else Invalid Data
    routes --> browser: Render form\nwith error messages
    browser --> admin: Show validation errors
end

@enduml
